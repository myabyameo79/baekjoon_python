import sys
input=sys.stdin.readline
def dp(ans,li,l):
    global p
    t=ans.copy()
    for i in range(l):
        if i==0:
            t[0]=ans[0]*li[0]%p
        else:
            t[i]=(ans[i]*li[0]%p+ans[i-1])%p
    return t
p=100003
n=int(input())
li=list(map(int,input().split()))
ans=[0]*(n+2)
ans[0]=li[0]
ans[1]=1
for i in range(n-1):
    ans=dp(ans,[li[i+1],1],i+3)
for i in range(int(input())):
    print(ans[n-int(input())])
